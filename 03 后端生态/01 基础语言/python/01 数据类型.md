# 数据类型

## 基本类型

### 布尔

```py
yes = True
no = False
```

### 数字

数字类型

- 整数: int
- 浮点数: float
- 小数: [Decimal](https://docs.python.org/zh-cn/3/library/decimal.html#decimal.Decimal) (TODO: 对象类型，后面再看)
- 分数: [Fraction](https://docs.python.org/zh-cn/3/library/fractions.html#fractions.Fraction) (TODO: 对象类型，后面再看)
- 复数: [Complex](https://docs.python.org/zh-cn/3/library/functions.html#complex) (TODO: 对象类型，后面再看)

混合运算时会将整数转换为浮点数

逻辑运算

- `+ - * /`
- `**` 幂运算
- `//` 除法，结果取整
- `%` 取余数

### 字符串

表示方式

- 单引号: 'xxx'
- 双引号: "xxx"
- 大段落: """xxx""" 或 '''xxx'''，行尾添加 `\` 表示不换行
- 转义符: "\n"
- 非转义: r"\n"
- 格式化字符串字面值
  - `f"somt string {expression}"` (`f`可大写)
    - `expression` 可以是变量或 变量加格式说明符，如 `f"pi is {math.pi:.2f}"`
    - [格式说明符](https://docs.python.org/zh-cn/3/library/string.html#formatspec)
  - `"somt string {expression}".format(args?)"` (这里称 `{expression}` 为格式字段)
    - 格式字段可以为空的花括号，与 `.format` 中的参数进行匹配
    - 格式字段可以传递数字，对应 `.format` 中的参数位置
    - 格式字段可以传递参数名，对应 `.format` 中的参数需要采用 `key=val, key2 = val2, ...` 的格式
    - 若 `.format` 中参数为字典，格式字段可以通过 `{0[key]}` 获取对应的值
    - 若 `.format` 中参数为字典，也可以使用 `**attr` 将参数转换为字典参数

逻辑运算

- 字符串合并:
  - 使用加号: `'str1' + 'str2'` (用于变量或表达式)
  - 使用空格: `'str1' 'str2'` (常用于长字段拆分，方便阅读，不能用于变量或表达式)
- 字符串重复: `'哈' * 3` -> `'哈哈哈'`
- 字符串索引: `str = 'str'; str[0]`，支持负数索引(从尾部计数，末端为 -1)
- 字符串切片: `str[start:end]`, start 默认 0，end 默认 字符串长度(start 为闭区间，end 为开区间)

字符串是 不可变 的，故不能修改字符串中的索引

## 引用类型

### 列表

表达方式: `[1,2,3,4,5]`

逻辑操作

- 切片: 同字符串，返回 浅拷贝
- 切片赋值: `list[2:4] = ['new 2', 'new 3']`, 将修改列表中对应切片的数据
- 合并: `[1, 2] + [3, 4]` -> `[1, 2, 3, 4]`
- 修改子项: `list[idx] = 'new val'`

方法

- `len(list)`: 获取列表长度
- `list.append(item)`: 在列表末尾增加元素，相当于 `list[len(list):] = [item]`
- `list.extend(iterable)`: 在列表末尾扩展元素，相当于 `list[len(list):] = iterable`
- `list.insert(index, item)`: 在指定位置插入元素
- `list.remove(item)`: 移除指定元素
- `list.pop(index?)`: 移除末尾元素或指定下标元素，并返回该元素
- `list.clear()`: 移除所有元素，相当于 `del list[:]`
- `list.index(item, start?, end?)`: 返回指定元素下标，可以指定查找范围
- `list.count(item)`: 统计元素在数组中出现的次数
- `list.sort()`: TODO: 待补充 参数说明
- `list.reverse()`: 反转列表
- `list.copy()`: 返回列表浅拷贝，相当于 `list[:]`

#### 栈与队列

- 栈：可以直接使用列表进行实现
- 队列：由于列表在头部插入数据效率很低，建议使用 `collections.deque` 实现

```py
from collections import deque
queue = deque(['1', '2', '3'])
queue.append('4')
queue.popleft()
```

#### 列表推导式

相比于循环，列表推导式填充列表内容更加便捷

语法：`[表达式 for子句 零或多个for子句或if子句]`

```py
squares = list(map(lambda x: x**2, range(10)))
# 等价于
squares = [x**2 for x in range(10)]
```

### del 语句

`del` 可以删除变量，若给定索引，可以删除 列表中指定索引内容

### 元组与序列

元组是由多个逗号分隔的值，如 `point = (1, -1)`

- 括号非必须，但建议都加上
- 空元素元组或嵌套元组括号不可省略
- 单个元素元组，元素后跟逗号可表示元组

元组是不可变的，不可为其元素进行赋值

### 集合

集合使用花括号或 `set()` 创建，其元素为值

- 创建空集合只能使用 `set()`
- 与列表类似，也支持 推导式

```py
fruit = {'apple', 'orange'}
```

### 字典

字典也也使用花括号创建，其元素为键值对

```py
person = {
  name: 'xx',
  age: 22
}
```

也可使用 `dict()` 构造

```py
dict([ ('name', 'xx'), ('age', 22) ) ])
```

字典也支持推导式
