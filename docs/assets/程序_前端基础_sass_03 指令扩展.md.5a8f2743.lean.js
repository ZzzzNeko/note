import{_ as s,v as a,b as l,R as n}from"./chunks/framework.cc13f38d.js";const F=JSON.parse('{"title":"指令扩展","description":"","frontmatter":{},"headers":[],"relativePath":"程序/前端基础/sass/03 指令扩展.md","filePath":"程序/前端基础/sass/03 指令扩展.md","lastUpdated":1687109729000}'),o={name:"程序/前端基础/sass/03 指令扩展.md"},p=n(`<h1 id="指令扩展" tabindex="-1">指令扩展 <a class="header-anchor" href="#指令扩展" aria-label="Permalink to &quot;指令扩展&quot;">​</a></h1><h2 id="import" tabindex="-1"><code>@import</code> <a class="header-anchor" href="#import" aria-label="Permalink to &quot;\`@import\`&quot;">​</a></h2><p>Sass 扩展了 <code>@import</code> 功能</p><ul><li>允许导入 sass 或 scss 文件 <ul><li>允许导入多个文件，使用逗号进行分割</li><li>被导入的文件将合并编译到同一个 css 文件</li><li>被导入的文件中的变量或混合指令可以在导入的文件中使用</li><li>分音：即导入 sass 或 scss 文件，但不进行编译 <ul><li>被导入的文件名以下划线开头</li><li>导入的文件名去掉下划线</li><li>不能同时存在有下划线和无下划线的同名文件，否则有下划线的文件将被忽略</li></ul></li><li>嵌套 <ul><li><code>@import</code> 可以嵌套近 css 样式或 <code>@media</code> 中，使导入的样式仅出现在嵌套层中</li><li>不能再混合指令或控制指令中嵌套 <code>@import</code></li></ul></li></ul></li><li>作为普通的 css 语句 <ul><li>文件扩展名为 <code>.css</code></li><li>文件名以 <code>http://</code> 开头</li><li>文件名以 <code>url()</code> 格式，支持 <code>#{}</code> 插值语句</li><li><code>@import</code> 包含媒体查询</li></ul></li></ul><p>缺陷 (dart-sass 在 v1.23+ 版本引入了 @use 和 @forward 以更好地实现模块化)</p><ul><li>难以确定 变量、函数、混合 的来源</li><li>嵌套 @import 会导致重复的 css 代码</li><li>缺少命名空间的概念，导致类名通常冗长</li><li>缺少私有函数的概念，存在向后兼容问题</li><li>@extend 可能会影响到样式中所有选择器</li></ul><h2 id="use-dart-sass-v1-23-0" tabindex="-1"><code>@use</code> (dart-sass v1.23.0+) <a class="header-anchor" href="#use-dart-sass-v1-23-0" aria-label="Permalink to &quot;\`@use\` (dart-sass v1.23.0+)&quot;">​</a></h2><div class="language-sass"><button title="Copy Code" class="copy"></button><span class="lang">sass</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">@use</span><span style="color:#A6ACCD;"> &quot;bootstrap&quot;                // 会自动生成同名的命名空间</span><span style="color:#82AAFF;">(</span><span style="color:#A6ACCD;">相当于 \`@use &quot;bootstrap&quot; </span><span style="color:#FFCB6B;">as</span><span style="color:#A6ACCD;"> bootstrap\`</span><span style="color:#82AAFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@use</span><span style="color:#A6ACCD;"> &quot;module-color&quot; </span><span style="color:#FFCB6B;">as</span><span style="color:#A6ACCD;"> color    // 使用命名空间</span><span style="color:#82AAFF;">(</span><span style="color:#A6ACCD;">使用时需要指定模块名称</span><span style="color:#82AAFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@use</span><span style="color:#A6ACCD;"> &quot;module-font&quot; </span><span style="color:#FFCB6B;">as</span><span style="color:#A6ACCD;"> *         // 使用全局空间</span><span style="color:#82AAFF;">(</span><span style="color:#A6ACCD;">可以直接使用</span><span style="color:#82AAFF;">)(</span><span style="color:#A6ACCD;">注意多个全局命名空间需要避免命名重复</span><span style="color:#82AAFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@use</span><span style="color:#A6ACCD;"> &quot;module-size&quot; </span><span style="color:#FFCB6B;">as</span><span style="color:#A6ACCD;"> size </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">(</span><span style="color:#A6ACCD;">$default-size: </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;font-style:italic;">px</span><span style="color:#82AAFF;">)</span><span style="color:#A6ACCD;"> // 使用 </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> 语法覆盖模块变量值</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">.bg-default</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background-color</span><span style="color:#A6ACCD;">: color</span><span style="color:#F78C6C;">.</span><span style="color:#A6ACCD;">$default</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">.font-default</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">font-size</span><span style="color:#A6ACCD;">: $font-default</span></span></code></pre></div><p>@use 相比于 @import</p><ul><li>@use 只引入和执行一次</li><li>@use 作用域为引入的模块</li><li>模块中以 &#39;-&#39; 或 &#39;_&#39; 开头的成员为私有成员, 不会被 @use 引入</li><li>下游文件的修改不会污染使用了 @extend 的上游文件</li><li>with 语句可以配置模块默认值, 引入多个模块时需要注意引入顺序</li></ul><h2 id="forward-dart-sass-v1-23-0" tabindex="-1"><code>@forward</code> (dart-sass v1.23.0+) <a class="header-anchor" href="#forward-dart-sass-v1-23-0" aria-label="Permalink to &quot;\`@forward\` (dart-sass v1.23.0+)&quot;">​</a></h2><p><code>@forward</code> 可以将引入一个模块的成员并作为当前模块的 API 暴露出去，用于管理组织生成不同的模块，<code>@forward</code> 不会添加命名空间</p><div class="language-sass"><button title="Copy Code" class="copy"></button><span class="lang">sass</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/* bootstrap.sass */</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@forward </span><span style="color:#C3E88D;">&quot;functions&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@forward </span><span style="color:#C3E88D;">&quot;variables&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@forward </span><span style="color:#C3E88D;">&quot;mixins&quot;</span></span></code></pre></div><div class="language-sass"><button title="Copy Code" class="copy"></button><span class="lang">sass</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 显示或隐藏指定成员，隐藏的成员相当于模块私有成员(待测试表现)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@forward </span><span style="color:#C3E88D;">&quot;functions&quot;</span><span style="color:#A6ACCD;"> show somefn</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@forward </span><span style="color:#C3E88D;">&quot;functions&quot;</span><span style="color:#A6ACCD;"> hide otherfn</span></span></code></pre></div><div class="language-sass"><button title="Copy Code" class="copy"></button><span class="lang">sass</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/* bootstrap.sass */</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@forward </span><span style="color:#C3E88D;">&quot;color&quot;</span><span style="color:#A6ACCD;"> as color-</span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@forward </span><span style="color:#C3E88D;">&quot;state&quot;</span><span style="color:#A6ACCD;"> as state-</span><span style="color:#89DDFF;">*</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* some-module.sass */</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@use</span><span style="color:#A6ACCD;"> &quot;bootstrap&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">.main-button</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">color</span><span style="color:#A6ACCD;">: $color-red       </span><span style="color:#676E95;font-style:italic;">// 变量添加了前缀</span></span></code></pre></div><h2 id="media" tabindex="-1"><code>@media</code> <a class="header-anchor" href="#media" aria-label="Permalink to &quot;\`@media\`&quot;">​</a></h2><p>Sass 对 <code>@media</code> 进行了功能扩展</p><ul><li>允许在 css 规则中嵌套，编译时，<code>@media</code> 将被编译到外层，父级选择器将被编译到 <code>@media</code> 内层</li><li>允许 <code>@media</code> 的 queries 相互嵌套使用，编译时，内层的 <code>@media</code> 将继承外层的条件 (自动添加 <code>and</code>)</li><li>允许 <code>@media</code> 的 queries 使用变量，插值，函数等 SassScript</li></ul><p>示例</p><div class="language-sass"><button title="Copy Code" class="copy"></button><span class="lang">sass</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$sm: </span><span style="color:#F78C6C;">768</span><span style="color:#89DDFF;font-style:italic;">px</span></span>
<span class="line"><span style="color:#A6ACCD;">$md: </span><span style="color:#F78C6C;">992</span><span style="color:#89DDFF;font-style:italic;">px</span></span>
<span class="line"><span style="color:#A6ACCD;">$lg: </span><span style="color:#F78C6C;">1200</span><span style="color:#89DDFF;font-style:italic;">px</span></span>
<span class="line"><span style="color:#A6ACCD;">$xl: </span><span style="color:#F78C6C;">1600</span><span style="color:#89DDFF;font-style:italic;">px</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">.header</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">@media screen</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#B2CCD6;">margin</span><span style="color:#A6ACCD;">: </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> auto</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">@media </span><span style="color:#82AAFF;">(</span><span style="color:#B2CCD6;">min-width</span><span style="color:#A6ACCD;">: $sm</span><span style="color:#82AAFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#B2CCD6;">width</span><span style="color:#A6ACCD;">: </span><span style="color:#F78C6C;">720</span><span style="color:#89DDFF;font-style:italic;">px</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">@media </span><span style="color:#82AAFF;">(</span><span style="color:#B2CCD6;">min-width</span><span style="color:#A6ACCD;">: $lg</span><span style="color:#82AAFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#B2CCD6;">width</span><span style="color:#A6ACCD;">: </span><span style="color:#F78C6C;">1280</span><span style="color:#89DDFF;font-style:italic;">px</span></span></code></pre></div><p>编译为</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">@media</span><span style="color:#A6ACCD;"> screen </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">header</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">margin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> auto</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@media</span><span style="color:#A6ACCD;"> screen </span><span style="color:#89DDFF;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">min-width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">768px</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">header</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">720px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@media</span><span style="color:#A6ACCD;"> screen </span><span style="color:#89DDFF;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">min-width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1200px</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">header</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1280px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="at-root" tabindex="-1"><code>@at-root</code> <a class="header-anchor" href="#at-root" aria-label="Permalink to &quot;\`@at-root\`&quot;">​</a></h2><p><code>@at-root</code>可以将嵌套中的规则提取至最外层</p><ul><li>默认 <code>@at-root</code> 只会跳出选择器嵌套</li><li>使用 <code>@at-root: (width: &lt;keyword&gt;)</code> 或 <code>@at-root (width: &lt;keyword&gt;)</code> 可以跳出 <code>@media</code> 或 <code>@support</code>，支持以下关键字 <ul><li><code>all</code>: 表示所有</li><li><code>rule</code>: 表示常规 css</li><li><code>media</code>: 表示 media</li><li><code>support</code>: 表示 support</li></ul></li></ul>`,25),e=[p];function t(c,r,i,y,C,d){return a(),l("div",null,e)}const A=s(o,[["render",t]]);export{F as __pageData,A as default};
