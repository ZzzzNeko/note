(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{296:function(t,a,s){"use strict";s.r(a);var n=s(10),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue"}},[t._v("#")]),t._v(" vue")]),t._v(" "),a("h2",{attrs:{id:"vue-基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-基础"}},[t._v("#")]),t._v(" vue 基础")]),t._v(" "),a("h3",{attrs:{id:"v-if-与-v-show-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#v-if-与-v-show-的区别"}},[t._v("#")]),t._v(" v-if 与 v-show 的区别")]),t._v(" "),a("ul",[a("li",[t._v("v-show：控制 display: none 对元素进行隐藏")]),t._v(" "),a("li",[t._v("v-if：直接控制元素是否渲染")])]),t._v(" "),a("h3",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("beforeCreate")]),t._v(": 组件创建之前 (初始化 默认事件和生命周期，此时组件 data 和 methods 未创建)")]),t._v(" "),a("li",[a("code",[t._v("created")]),t._v(": 组件创建完成 (初始化 注入和反射，此时组件 data 和 methods 已创建)")]),t._v(" "),a("li",[a("code",[t._v("beforeMount")]),t._v(": 组件挂载之前 (将模板编译为渲染函数，渲染函数用于生成 VNode)")]),t._v(" "),a("li",[a("code",[t._v("mounted")]),t._v(": 组件挂载完毕 (将组件挂载为真实 DOM)")]),t._v(" "),a("li",[a("code",[t._v("beforeUpdate")]),t._v(": 组件更新之前 (数据变更之前)")]),t._v(" "),a("li",[a("code",[t._v("updated")]),t._v(": 组件更新完毕 (更新 VNode 并进行 patch)")]),t._v(" "),a("li",[a("code",[t._v("beforeDestory")]),t._v(": 组件销毁之前 (组件销毁之前)")]),t._v(" "),a("li",[a("code",[t._v("destoryed")]),t._v(": 组件销毁之后 (卸载 数据、方法、监听器、观察器、子组件)")]),t._v(" "),a("li",[a("code",[t._v("activated")]),t._v(": 被 keep-alive 缓存的组件激活")]),t._v(" "),a("li",[a("code",[t._v("deactivated")]),t._v(": 被 keep-alive 缓存的组件停用")]),t._v(" "),a("li",[a("code",[t._v("errorCaptured")]),t._v(": 捕获到后代组件异常 (v2.5+ 新增)")])]),t._v(" "),a("p",[t._v("组件调用顺序：先父后子，渲染完成顺序：先子后父 "),a("br"),t._v("\n组件销毁顺序：先父后子，销毁完成顺序：先子后父")]),t._v(" "),a("h3",{attrs:{id:"keep-alive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keep-alive"}},[t._v("#")]),t._v(" keep-alive")]),t._v(" "),a("p",[t._v("keep-alive：包裹动态组件时，缓存不活动的组件实例，要求同时只有一个子元素被渲染")]),t._v(" "),a("ul",[a("li",[t._v("props\n"),a("ul",[a("li",[t._v("include: string|RegExp 指定需要缓存的组件名称")]),t._v(" "),a("li",[t._v("exclude: string|RegExp 指定除外缓存的组件名称")]),t._v(" "),a("li",[t._v("max: number 最大缓存组件实例数量")])])]),t._v(" "),a("li",[t._v("生命周期\n"),a("ul",[a("li",[t._v("activated: 激活时触发")]),t._v(" "),a("li",[t._v("deactivated: 无效时触发")])])])]),t._v(" "),a("h3",{attrs:{id:"组件通信"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件通信"}},[t._v("#")]),t._v(" 组件通信")]),t._v(" "),a("p",[t._v("父子组件")]),t._v(" "),a("ul",[a("li",[t._v("父 -> 子：通过 "),a("code",[t._v("props")]),t._v(" 传递信息")]),t._v(" "),a("li",[t._v("子 -> 父：通过 "),a("code",[t._v("$emit")]),t._v(" 传递信息")])]),t._v(" "),a("p",[t._v("后代组件")]),t._v(" "),a("ul",[a("li",[t._v("祖先 -> 后代：祖先通过 "),a("code",[t._v("provide")]),t._v(" 提供数据，后代通过 "),a("code",[t._v("inject")]),t._v(" 获取数据")])]),t._v(" "),a("p",[t._v("任意层级")]),t._v(" "),a("ul",[a("li",[t._v("通过 EventBus 进行管理消息的发布和订阅")]),t._v(" "),a("li",[t._v("通过 vuex 管理全局的数据通信")])]),t._v(" "),a("h2",{attrs:{id:"模板编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模板编译"}},[t._v("#")]),t._v(" 模板编译")]),t._v(" "),a("p",[t._v("Vue 模板编译流程")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("解析: 将模板解析为 AST")])]),t._v(" "),a("li",[a("p",[t._v("优化: 对静态内容进行优化(静态结点渲染后不会经过 patch 流程)")]),t._v(" "),a("ul",[a("li",[t._v("标记静态和非静态结点")]),t._v(" "),a("li",[t._v("标记静态根节点")])])]),t._v(" "),a("li",[a("p",[t._v("生成: 对处理后的 AST 转换为 render 函数")])])]),t._v(" "),a("h2",{attrs:{id:"mvvm-的理解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mvvm-的理解"}},[t._v("#")]),t._v(" MVVM 的理解")]),t._v(" "),a("p",[t._v("将视图与数据进行绑定，视图变化会通知 VM 层更新数据，数据修改会通知 VM 层更新视图。MVVM 中 UI 是数据驱动的，便于将关注点集中在数据的处理中。")]),t._v(" "),a("h2",{attrs:{id:"数据接持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据接持"}},[t._v("#")]),t._v(" 数据接持")]),t._v(" "),a("h3",{attrs:{id:"vue2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue2"}},[t._v("#")]),t._v(" vue2")]),t._v(" "),a("p",[t._v("劫持对象")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" span "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"span"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("updateNode")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"span"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("span")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" copyData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" copyData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("copyData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ncopyData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("span "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"666"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("劫持数组：通过覆写数组原生方法进行接持")]),t._v(" "),a("h3",{attrs:{id:"vue3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3"}},[t._v("#")]),t._v(" vue3")]),t._v(" "),a("p",[t._v("使用 Proxy 进行代理，相比 Object.defineProperty 的方式，具有以下优点")]),t._v(" "),a("ul",[a("li",[t._v("可以直接监听对象而非属性")]),t._v(" "),a("li",[t._v("可以直接监听数组")]),t._v(" "),a("li",[t._v("具有更多的拦截方法，扩展性高")]),t._v(" "),a("li",[t._v("无需在操作前拷贝原对象")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" span "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"span"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("updateNode")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"span"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("span")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Reflect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nproxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("span "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"777"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"nexttick"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nexttick"}},[t._v("#")]),t._v(" nextTick")]),t._v(" "),a("ul",[a("li",[t._v("2.4 之前优先使用微任务")]),t._v(" "),a("li",[t._v("2.5 改为优先使用宏任务")]),t._v(" "),a("li",[t._v("2.6 改为优先使用微任务，特殊情况下使用宏任务(v-on)")])]),t._v(" "),a("p",[t._v("v2.5 中 setImmediate > MessageChannel > Promise > setTimeout "),a("br"),t._v("\nv2.6 中 Promise > MutationObserver > setImmediate > setTimeout")]),t._v(" "),a("h2",{attrs:{id:"diff-算法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diff-算法"}},[t._v("#")]),t._v(" Diff 算法")]),t._v(" "),a("h3",{attrs:{id:"vnode-key-的作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vnode-key-的作用"}},[t._v("#")]),t._v(" VNode key 的作用")]),t._v(" "),a("p",[t._v("key 用于标识 vnode 的唯一性，在 diff 过程中，对于 key 相同的 vnode 仅进行移动和更新，而不做删除创建操作，进而提高 DOM 的复用性，从而提升 patch 流程的性能")]),t._v(" "),a("h3",{attrs:{id:"diff-react"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diff-react"}},[t._v("#")]),t._v(" diff(react)")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("遍历现节点列表，查看每个节点在是否存在于原列表中")]),t._v(" "),a("ul",[a("li",[t._v("维护一个最大索引值，该值为查询中在原列表中的最大索引值")]),t._v(" "),a("li",[t._v("若存在，则更新节点，之后判断是否需要移动\n"),a("ul",[a("li",[t._v("原节点索引小于最大索引值则需要移动节点")]),t._v(" "),a("li",[t._v("否则将该索引置为最大索引")])])]),t._v(" "),a("li",[t._v("若不存在，则插入节点\n"),a("ul",[a("li",[t._v("若为首个节点，则插在原列表第一个节点之前")]),t._v(" "),a("li",[t._v("若为非头节点，则插在现列表上一个节点之后")])])])])]),t._v(" "),a("li",[a("p",[t._v("遍历原节点列表，移除现列表中不存在的节点")])])]),t._v(" "),a("div",{staticClass:"language-demo extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[a, b, c, d]    // 原列表\n[c, a, d, b]    // 现列表\na, b, c, d      // 遍历 c，获取最大索引 2，不做移动\nb, c, a, d      // 遍历 a，小于最大索引 2，插入到 c 后面\nb, c, a, d      // 遍历 d，获取最大索引 3，不做移动\nc, a, d, b      // 遍历 b，小于最大索引 3，插入到 d 后面\n\n---\n\n[a, b, c, d, e]\n[d, b, o, a, c, e]\na, b, c, d, e    // 遍历 d 获取原列表最大索引 3\na, c, d, b, e    // 遍历 b 获取原列表索引 1 小于最大索引，将 b 移动到 d 后\na, c, d, b, o, e // 遍历 o 未能查询到原索引，进行插入处理\nc, d, b, o, a, e // 遍历 a 获取原列表索引 0 小于最大索引，将 a 移动到 o 后\nd, b, o, a, c, e // 遍历 c 获取原列表索引 2 小于最大索引，将 c 移动到 a 后\nd, b, o, a, c, e // 遍历 e 获取原列表索引 4 大于最大索引，更新最大索引为 4\n")])])]),a("h3",{attrs:{id:"diff-vue2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diff-vue2"}},[t._v("#")]),t._v(" diff(vue2)")]),t._v(" "),a("ul",[a("li",[t._v("信息记录\n"),a("ul",[a("li",[t._v("原列表：使用 oldHead 与 oldTail 指向头尾节点")]),t._v(" "),a("li",[t._v("现列表：使用 newHead 与 newTail 指向头尾节点")])])]),t._v(" "),a("li",[t._v("双端比较：在一次比较中，按顺序进行以下最多四次比较，若节点相同则更新，并修改节点指向\n"),a("ol",[a("li",[t._v("oldHead 与 newHead 比较，若相同则更新，oldHead 与 newHead 分别指向下一个节点")]),t._v(" "),a("li",[t._v("oldTail 与 newHead 比较，若相同则更新，oldTail 与 newHead 分别指向上一个节点")]),t._v(" "),a("li",[t._v("oldHead 与 newTail 比较，若相同则更新，oldHead 节点移动到 oldTail 之后，oldHead 后移，newTail 前移")]),t._v(" "),a("li",[t._v("oldTail 与 newHead 比较，若相同则更新，oldTail 节点移动到 oldHead 之前，oldTail 前移，newTail 后移")]),t._v(" "),a("li",[t._v("若以上都不满足，则遍历原列表查看 newHead 是否存在")])]),t._v(" "),a("ul",[a("li",[t._v("若存在，则更新节点，并将该节点移动到 oldHead 之前；若不存在，则添加到 oldHead 之前")]),t._v(" "),a("li",[t._v("newHead 后移")])])]),t._v(" "),a("li",[t._v("双端比较结束后，判断新增或删除节点\n"),a("ul",[a("li",[t._v("若 oldTail < oldHead，loop: newHead -> newTail 新增节点")]),t._v(" "),a("li",[t._v("若 newTail < newTail，loop: oldHead -> oldTail 移除节点")])])])]),t._v(" "),a("div",{staticClass:"language-demo extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[a, b, c, d] // 原列表\n[b, a, d, c] // 现列表\n\nb, [a, c, d] // 不满双端比较(5)，b 移动到 a 之前，oldHead 指向 a，newHead 指向 a\nb, a, [c, d] // 满足双端比较(1)，oldHead 指向 c，newHead 指向 d\nb, a, d, [c] // 满足双端比较(4)，d 移动到 c 之前，oldTail 指向 c，newTail 指向 c\nb, a, d, c   // 满足双端比较(1)，遍历结束\n")])])]),a("h2",{attrs:{id:"路由原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由原理"}},[t._v("#")]),t._v(" 路由原理")]),t._v(" "),a("p",[t._v("监听 hashchange 事件，支持以下模式")]),t._v(" "),a("ul",[a("li",[t._v("hash 模式：前端实现，根据 URL 中 "),a("code",[t._v("#")]),t._v(" 后的哈希值变化进行处理")]),t._v(" "),a("li",[t._v("history 模式：需要后端配置返回原页面")])])])}),[],!1,null,null,null);a.default=e.exports}}]);