# 快速上手

## 安装

```shell
# 安装
pip install Django
```

安装完成后将会注册全局指令 `django-admin`

## 创建项目

```shell
# 创建项目
django-admin startproject [project_name]
```

项目新建后将生产预设的文件及目录

```dir
[project_name]/     项目名称，文件名可以修改
  manage.py         用于管理项目的命令行工具
  [project_name]/   同名包，文件名不建议修改
    __init__.py     表示当前目录为 python 包
    settings.py     配置文件
    urls.py         URL声明
    asgi.py         运行在 ASGI 兼容的web服务器上的入口
    wsgi.py         运行在 WSGI 兼容的web服务器上的入口
```

启动服务 `py manage.py runserver`

- 初次启动会缺少数据库表导致警告 (可通过`py manage.py migrate`处理)，这里暂时忽略
- 默认可通过 http://127.0.0.1:8000/ 进行访问了
- `py manage.py runserver [port]` 可以指定端口
- `py manage.py runserver [ip:port]` 可以指定服务和端口

开发模式下，代码的修改会自动重启服务器(新增文件不会)

## 创建应用

一个项目下可以创建多个应用，django 中每个应用都是一个 py 包

```shell
# 创建应用
py manage.py startapp [app_name]
```

应用新建后将生产预设的文件及目录

```dir
[app_name]/
  __init__.py
  migrations/
    __init__.py
  admin.py
  apps.py
  models.py
  views.py
  tests.py
```

## 将应用关联到项目下

通过 `path(route, view, kwargs?, name?)` 配置路由与视图的关系

### 创建示例应用

`py manage.py startapp guide` 创建一个 `guide` 应用

```py
# guide/views.py
from django.http import HttpResponse

def index(request):
  return HttpResponse("Hello, world. You're at the polls index.")
```

```py
# guide/urls.py
## 该文件需要手动创建
from django.urls import path

from . import views

urlpatterns = [
  path('', views.index, name='index'),
]
```

### 关联示例应用

```py
# [project_name]/urls.py
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
  path('admin/', admin.site.urls),
  path('guide/', include('guide.urls')),
]
```

### 访问示例应用

通过 http://127.0.0.1:8000/guide/ 可以访问上述创建的 guide 应用
