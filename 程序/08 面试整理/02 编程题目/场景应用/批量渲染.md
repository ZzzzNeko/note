# 批量渲染

渲染大量数据不阻塞页面

```js
// <div id="wrap"></div>
// 利用 requestAnimationFrame 控制渲染频率
// 利用 DocumentFragment      单次渲染多条
function render() {
  const total = 1e4;
  const once = 1e2;
  let nums = 0;
  function append() {
    const fragment = document.createDocumentFragment();
    for (let i = 0; i < once; i++) {
      const div = document.createElement("div");
      div.innerText = Math.random();
      fragment.appendChild(div);
    }
    wrap.appendChild(fragment);
    nums += once;
    if (nums < total) {
      requestAnimationFrame(append);
    }
  }
  append();
}
render();
```
